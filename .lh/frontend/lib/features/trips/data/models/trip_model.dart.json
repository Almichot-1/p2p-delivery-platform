{
    "sourceFile": "frontend/lib/features/trips/data/models/trip_model.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1766327036647,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1766328156016,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1 +1,159 @@\n+import 'package:cloud_firestore/cloud_firestore.dart';\r\n+import 'package:equatable/equatable.dart';\r\n \r\n+enum TripStatus { draft, active, completed, cancelled }\r\n+\r\n+class TripModel extends Equatable {\r\n+  final String id;\r\n+  final String travelerId;\r\n+  final String travelerName;\r\n+  final String? travelerPhoto;\r\n+  final double travelerRating;\r\n+  final String originCity;\r\n+  final String originCountry;\r\n+  final String destinationCity;\r\n+  final String destinationCountry;\r\n+  final DateTime departureDate;\r\n+  final DateTime? returnDate;\r\n+  final double availableCapacityKg;\r\n+  final double pricePerKg;\r\n+  final String? notes;\r\n+  final List<String> acceptedItemTypes;\r\n+  final TripStatus status;\r\n+  final int matchCount;\r\n+  final DateTime createdAt;\r\n+  final DateTime? updatedAt;\r\n+\r\n+  const TripModel({\r\n+    required this.id,\r\n+    required this.travelerId,\r\n+    required this.travelerName,\r\n+    this.travelerPhoto,\r\n+    this.travelerRating = 0.0,\r\n+    required this.originCity,\r\n+    required this.originCountry,\r\n+    required this.destinationCity,\r\n+    required this.destinationCountry,\r\n+    required this.departureDate,\r\n+    this.returnDate,\r\n+    required this.availableCapacityKg,\r\n+    this.pricePerKg = 0.0,\r\n+    this.notes,\r\n+    this.acceptedItemTypes = const [],\r\n+    this.status = TripStatus.active,\r\n+    this.matchCount = 0,\r\n+    required this.createdAt,\r\n+    this.updatedAt,\r\n+  });\r\n+\r\n+  factory TripModel.fromFirestore(DocumentSnapshot doc) {\r\n+    final data = doc.data() as Map<String, dynamic>;\r\n+    return TripModel(\r\n+      id: doc.id,\r\n+      travelerId: data['travelerId'] ?? '',\r\n+      travelerName: data['travelerName'] ?? '',\r\n+      travelerPhoto: data['travelerPhoto'],\r\n+      travelerRating: (data['travelerRating'] ?? 0.0).toDouble(),\r\n+      originCity: data['originCity'] ?? '',\r\n+      originCountry: data['originCountry'] ?? '',\r\n+      destinationCity: data['destinationCity'] ?? '',\r\n+      destinationCountry: data['destinationCountry'] ?? '',\r\n+      departureDate: (data['departureDate'] as Timestamp).toDate(),\r\n+      returnDate: data['returnDate'] != null\r\n+          ? (data['returnDate'] as Timestamp).toDate()\r\n+          : null,\r\n+      availableCapacityKg: (data['availableCapacityKg'] ?? 0.0).toDouble(),\r\n+      pricePerKg: (data['pricePerKg'] ?? 0.0).toDouble(),\r\n+      notes: data['notes'],\r\n+      acceptedItemTypes: List<String>.from(data['acceptedItemTypes'] ?? []),\r\n+      status: TripStatus.values.firstWhere(\r\n+        (e) => e.name == data['status'],\r\n+        orElse: () => TripStatus.active,\r\n+      ),\r\n+      matchCount: data['matchCount'] ?? 0,\r\n+      createdAt: (data['createdAt'] as Timestamp?)?.toDate() ?? DateTime.now(),\r\n+      updatedAt: (data['updatedAt'] as Timestamp?)?.toDate(),\r\n+    );\r\n+  }\r\n+\r\n+  Map<String, dynamic> toFirestore() {\r\n+    return {\r\n+      'travelerId': travelerId,\r\n+      'travelerName': travelerName,\r\n+      'travelerPhoto': travelerPhoto,\r\n+      'travelerRating': travelerRating,\r\n+      'originCity': originCity,\r\n+      'originCountry': originCountry,\r\n+      'destinationCity': destinationCity,\r\n+      'destinationCountry': destinationCountry,\r\n+      'departureDate': Timestamp.fromDate(departureDate),\r\n+      'returnDate': returnDate != null ? Timestamp.fromDate(returnDate!) : null,\r\n+      'availableCapacityKg': availableCapacityKg,\r\n+      'pricePerKg': pricePerKg,\r\n+      'notes': notes,\r\n+      'acceptedItemTypes': acceptedItemTypes,\r\n+      'status': status.name,\r\n+      'matchCount': matchCount,\r\n+      'createdAt': Timestamp.fromDate(createdAt),\r\n+      'updatedAt': FieldValue.serverTimestamp(),\r\n+    };\r\n+  }\r\n+\r\n+  TripModel copyWith({\r\n+    String? id,\r\n+    String? travelerId,\r\n+    String? travelerName,\r\n+    String? travelerPhoto,\r\n+    double? travelerRating,\r\n+    String? originCity,\r\n+    String? originCountry,\r\n+    String? destinationCity,\r\n+    String? destinationCountry,\r\n+    DateTime? departureDate,\r\n+    DateTime? returnDate,\r\n+    double? availableCapacityKg,\r\n+    double? pricePerKg,\r\n+    String? notes,\r\n+    List<String>? acceptedItemTypes,\r\n+    TripStatus? status,\r\n+    int? matchCount,\r\n+    DateTime? createdAt,\r\n+    DateTime? updatedAt,\r\n+  }) {\r\n+    return TripModel(\r\n+      id: id ?? this.id,\r\n+      travelerId: travelerId ?? this.travelerId,\r\n+      travelerName: travelerName ?? this.travelerName,\r\n+      travelerPhoto: travelerPhoto ?? this.travelerPhoto,\r\n+      travelerRating: travelerRating ?? this.travelerRating,\r\n+      originCity: originCity ?? this.originCity,\r\n+      originCountry: originCountry ?? this.originCountry,\r\n+      destinationCity: destinationCity ?? this.destinationCity,\r\n+      destinationCountry: destinationCountry ?? this.destinationCountry,\r\n+      departureDate: departureDate ?? this.departureDate,\r\n+      returnDate: returnDate ?? this.returnDate,\r\n+      availableCapacityKg: availableCapacityKg ?? this.availableCapacityKg,\r\n+      pricePerKg: pricePerKg ?? this.pricePerKg,\r\n+      notes: notes ?? this.notes,\r\n+      acceptedItemTypes: acceptedItemTypes ?? this.acceptedItemTypes,\r\n+      status: status ?? this.status,\r\n+      matchCount: matchCount ?? this.matchCount,\r\n+      createdAt: createdAt ?? this.createdAt,\r\n+      updatedAt: updatedAt ?? this.updatedAt,\r\n+    );\r\n+  }\r\n+\r\n+  String get routeDisplay => '$originCity â†’ $destinationCity';\r\n+\r\n+  bool get isUpcoming => departureDate.isAfter(DateTime.now());\r\n+\r\n+  @override\r\n+  List<Object?> get props => [\r\n+        id,\r\n+        travelerId,\r\n+        originCity,\r\n+        destinationCity,\r\n+        departureDate,\r\n+        status,\r\n+      ];\r\n+}\n\\ No newline at end of file\n"
                }
            ],
            "date": 1766327036647,
            "name": "Commit-0",
            "content": "\r\n"
        }
    ]
}