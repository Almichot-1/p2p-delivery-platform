{
    "sourceFile": "frontend/lib/features/trips/presentation/widgets/trip_filter.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1766327036644,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1766328633937,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1 +1,136 @@\n+import 'package:flutter/material.dart';\r\n+import 'package:intl/intl.dart';\r\n \r\n+import '../../../../core/constants/app_constants.dart';\r\n+import '../../../../core/theme/app_colors.dart';\r\n+import '../../../../core/theme/app_text_styles.dart';\r\n+import '../../../../core/widgets/custom_button.dart';\r\n+\r\n+class TripFilter extends StatefulWidget {\r\n+  final String? selectedCity;\r\n+  final DateTime? selectedDate;\r\n+  final Function(String?, DateTime?) onApply;\r\n+\r\n+  const TripFilter({\r\n+    super.key,\r\n+    this.selectedCity,\r\n+    this.selectedDate,\r\n+    required this.onApply,\r\n+  });\r\n+\r\n+  @override\r\n+  State<TripFilter> createState() => _TripFilterState();\r\n+}\r\n+\r\n+class _TripFilterState extends State<TripFilter> {\r\n+  late String? _selectedCity;\r\n+  late DateTime? _selectedDate;\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    super.initState();\r\n+    _selectedCity = widget.selectedCity;\r\n+    _selectedDate = widget.selectedDate;\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.all(24),\r\n+      child: Column(\r\n+        mainAxisSize: MainAxisSize.min,\r\n+        crossAxisAlignment: CrossAxisAlignment.start,\r\n+        children: [\r\n+          // Header\r\n+          Row(\r\n+            mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n+            children: [\r\n+              Text('Filter Trips', style: AppTextStyles.h5),\r\n+              TextButton(\r\n+                onPressed: () {\r\n+                  setState(() {\r\n+                    _selectedCity = null;\r\n+                    _selectedDate = null;\r\n+                  });\r\n+                },\r\n+                child: const Text('Reset'),\r\n+              ),\r\n+            ],\r\n+          ),\r\n+          const SizedBox(height: 24),\r\n+\r\n+          // Destination\r\n+          Text('Destination', style: AppTextStyles.labelLarge),\r\n+          const SizedBox(height: 8),\r\n+          Wrap(\r\n+            spacing: 8,\r\n+            runSpacing: 8,\r\n+            children: AppConstants.ethiopianCities.map((city) {\r\n+              final isSelected = _selectedCity == city;\r\n+              return ChoiceChip(\r\n+                label: Text(city),\r\n+                selected: isSelected,\r\n+                onSelected: (selected) {\r\n+                  setState(() {\r\n+                    _selectedCity = selected ? city : null;\r\n+                  });\r\n+                },\r\n+                selectedColor: AppColors.primary.withOpacity(0.2),\r\n+              );\r\n+            }).toList(),\r\n+          ),\r\n+          const SizedBox(height: 24),\r\n+\r\n+          // Date\r\n+          Text('Departure Date', style: AppTextStyles.labelLarge),\r\n+          const SizedBox(height: 8),\r\n+          GestureDetector(\r\n+            onTap: () async {\r\n+              final date = await showDatePicker(\r\n+                context: context,\r\n+                initialDate: _selectedDate ?? DateTime.now(),\r\n+                firstDate: DateTime.now(),\r\n+                lastDate: DateTime.now().add(const Duration(days: 365)),\r\n+              );\r\n+              if (date != null) {\r\n+                setState(() => _selectedDate = date);\r\n+              }\r\n+            },\r\n+            child: Container(\r\n+              padding: const EdgeInsets.all(16),\r\n+              decoration: BoxDecoration(\r\n+                color: AppColors.grey100,\r\n+                borderRadius: BorderRadius.circular(12),\r\n+              ),\r\n+              child: Row(\r\n+                children: [\r\n+                  Icon(Icons.calendar_today, color: AppColors.grey600),\r\n+                  const SizedBox(width: 12),\r\n+                  Text(\r\n+                    _selectedDate != null\r\n+                        ? DateFormat('MMM dd, yyyy').format(_selectedDate!)\r\n+                        : 'Select date',\r\n+                    style: AppTextStyles.bodyMedium,\r\n+                  ),\r\n+                  const Spacer(),\r\n+                  if (_selectedDate != null)\r\n+                    GestureDetector(\r\n+                      onTap: () => setState(() => _selectedDate = null),\r\n+                      child: Icon(Icons.close, color: AppColors.grey600),\r\n+                    ),\r\n+                ],\r\n+              ),\r\n+            ),\r\n+          ),\r\n+          const SizedBox(height: 32),\r\n+\r\n+          // Apply Button\r\n+          CustomButton(\r\n+            text: 'Apply Filters',\r\n+            onPressed: () => widget.onApply(_selectedCity, _selectedDate),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1766346761030,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,9 +44,9 @@\n           // Header\r\n           Row(\r\n             mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n             children: [\r\n-              Text('Filter Trips', style: AppTextStyles.h5),\r\n+              const Text('Filter Trips', style: AppTextStyles.h5),\r\n               TextButton(\r\n                 onPressed: () {\r\n                   setState(() {\r\n                     _selectedCity = null;\r\n@@ -59,9 +59,9 @@\n           ),\r\n           const SizedBox(height: 24),\r\n \r\n           // Destination\r\n-          Text('Destination', style: AppTextStyles.labelLarge),\r\n+          const Text('Destination', style: AppTextStyles.labelLarge),\r\n           const SizedBox(height: 8),\r\n           Wrap(\r\n             spacing: 8,\r\n             runSpacing: 8,\r\n@@ -74,16 +74,16 @@\n                   setState(() {\r\n                     _selectedCity = selected ? city : null;\r\n                   });\r\n                 },\r\n-                selectedColor: AppColors.primary.withOpacity(0.2),\r\n+                selectedColor: AppColors.primary.withAlpha(51),\r\n               );\r\n             }).toList(),\r\n           ),\r\n           const SizedBox(height: 24),\r\n \r\n           // Date\r\n-          Text('Departure Date', style: AppTextStyles.labelLarge),\r\n+          const Text('Departure Date', style: AppTextStyles.labelLarge),\r\n           const SizedBox(height: 8),\r\n           GestureDetector(\r\n             onTap: () async {\r\n               final date = await showDatePicker(\r\n@@ -103,9 +103,9 @@\n                 borderRadius: BorderRadius.circular(12),\r\n               ),\r\n               child: Row(\r\n                 children: [\r\n-                  Icon(Icons.calendar_today, color: AppColors.grey600),\r\n+                  const Icon(Icons.calendar_today, color: AppColors.grey600),\r\n                   const SizedBox(width: 12),\r\n                   Text(\r\n                     _selectedDate != null\r\n                         ? DateFormat('MMM dd, yyyy').format(_selectedDate!)\r\n@@ -115,9 +115,9 @@\n                   const Spacer(),\r\n                   if (_selectedDate != null)\r\n                     GestureDetector(\r\n                       onTap: () => setState(() => _selectedDate = null),\r\n-                      child: Icon(Icons.close, color: AppColors.grey600),\r\n+                      child: const Icon(Icons.close, color: AppColors.grey600),\r\n                     ),\r\n                 ],\r\n               ),\r\n             ),\r\n@@ -132,5 +132,5 @@\n         ],\r\n       ),\r\n     );\r\n   }\r\n-}\n\\ No newline at end of file\n+}\r\n"
                }
            ],
            "date": 1766327036644,
            "name": "Commit-0",
            "content": "\r\n"
        }
    ]
}