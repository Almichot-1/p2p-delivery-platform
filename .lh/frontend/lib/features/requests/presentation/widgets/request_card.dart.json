{
    "sourceFile": "frontend/lib/features/requests/presentation/widgets/request_card.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1766327062910,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1766328827173,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1 +1,230 @@\n+import 'package:flutter/material.dart';\r\n+import 'package:cached_network_image/cached_network_image.dart';\r\n+import 'package:intl/intl.dart';\r\n \r\n+import '../../../../core/theme/app_colors.dart';\r\n+import '../../../../core/theme/app_text_styles.dart';\r\n+import '../../../../core/widgets/user_avatar.dart';\r\n+import '../../../../core/widgets/status_badge.dart';\r\n+import '../../data/models/request_model.dart';\r\n+\r\n+class RequestCard extends StatelessWidget {\r\n+  final RequestModel request;\r\n+  final VoidCallback? onTap;\r\n+\r\n+  const RequestCard({\r\n+    super.key,\r\n+    required this.request,\r\n+    this.onTap,\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Card(\r\n+      child: InkWell(\r\n+        onTap: onTap,\r\n+        borderRadius: BorderRadius.circular(16),\r\n+        child: Column(\r\n+          crossAxisAlignment: CrossAxisAlignment.start,\r\n+          children: [\r\n+            // Image carousel if available\r\n+            if (request.imageUrls.isNotEmpty)\r\n+              SizedBox(\r\n+                height: 150,\r\n+                child: ClipRRect(\r\n+                  borderRadius: const BorderRadius.vertical(\r\n+                    top: Radius.circular(16),\r\n+                  ),\r\n+                  child: CachedNetworkImage(\r\n+                    imageUrl: request.imageUrls.first,\r\n+                    fit: BoxFit.cover,\r\n+                    width: double.infinity,\r\n+                    placeholder: (context, url) => Container(\r\n+                      color: AppColors.grey200,\r\n+                      child: const Center(child: CircularProgressIndicator()),\r\n+                    ),\r\n+                    errorWidget: (context, url, error) => Container(\r\n+                      color: AppColors.grey200,\r\n+                      child: const Icon(Icons.error),\r\n+                    ),\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+\r\n+            Padding(\r\n+              padding: const EdgeInsets.all(16),\r\n+              child: Column(\r\n+                crossAxisAlignment: CrossAxisAlignment.start,\r\n+                children: [\r\n+                  // Title and status\r\n+                  Row(\r\n+                    children: [\r\n+                      Expanded(\r\n+                        child: Text(\r\n+                          request.title,\r\n+                          style: AppTextStyles.h6,\r\n+                          maxLines: 1,\r\n+                          overflow: TextOverflow.ellipsis,\r\n+                        ),\r\n+                      ),\r\n+                      if (request.isUrgent)\r\n+                        Container(\r\n+                          padding: const EdgeInsets.symmetric(\r\n+                            horizontal: 8,\r\n+                            vertical: 4,\r\n+                          ),\r\n+                          decoration: BoxDecoration(\r\n+                            color: AppColors.error.withOpacity(0.1),\r\n+                            borderRadius: BorderRadius.circular(12),\r\n+                          ),\r\n+                          child: Row(\r\n+                            mainAxisSize: MainAxisSize.min,\r\n+                            children: [\r\n+                              Icon(\r\n+                                Icons.bolt,\r\n+                                size: 14,\r\n+                                color: AppColors.error,\r\n+                              ),\r\n+                              const SizedBox(width: 4),\r\n+                              Text(\r\n+                                'Urgent',\r\n+                                style: AppTextStyles.labelSmall.copyWith(\r\n+                                  color: AppColors.error,\r\n+                                ),\r\n+                              ),\r\n+                            ],\r\n+                          ),\r\n+                        ),\r\n+                    ],\r\n+                  ),\r\n+                  const SizedBox(height: 8),\r\n+\r\n+                  // Description\r\n+                  Text(\r\n+                    request.description,\r\n+                    style: AppTextStyles.bodySmall.copyWith(\r\n+                      color: AppColors.grey600,\r\n+                    ),\r\n+                    maxLines: 2,\r\n+                    overflow: TextOverflow.ellipsis,\r\n+                  ),\r\n+                  const SizedBox(height: 12),\r\n+\r\n+                  // Route\r\n+                  Row(\r\n+                    children: [\r\n+                      Icon(Icons.location_on,\r\n+                          size: 16, color: AppColors.primary),\r\n+                      const SizedBox(width: 4),\r\n+                      Expanded(\r\n+                        child: Text(\r\n+                          request.routeDisplay,\r\n+                          style: AppTextStyles.bodySmall.copyWith(\r\n+                            fontWeight: FontWeight.w500,\r\n+                          ),\r\n+                        ),\r\n+                      ),\r\n+                    ],\r\n+                  ),\r\n+                  const SizedBox(height: 8),\r\n+\r\n+                  // Details row\r\n+                  Row(\r\n+                    children: [\r\n+                      _buildTag(\r\n+                        icon: Icons.category,\r\n+                        text: request.categoryDisplay,\r\n+                      ),\r\n+                      const SizedBox(width: 8),\r\n+                      _buildTag(\r\n+                        icon: Icons.fitness_center,\r\n+                        text: '${request.weightKg.toStringAsFixed(1)} kg',\r\n+                      ),\r\n+                      if (request.offeredPrice != null) ...[\r\n+                        const SizedBox(width: 8),\r\n+                        _buildTag(\r\n+                          icon: Icons.attach_money,\r\n+                          text: '\\$${request.offeredPrice!.toStringAsFixed(0)}',\r\n+                          color: AppColors.success,\r\n+                        ),\r\n+                      ],\r\n+                    ],\r\n+                  ),\r\n+                  const Divider(height: 24),\r\n+\r\n+                  // Requester info\r\n+                  Row(\r\n+                    children: [\r\n+                      UserAvatar(\r\n+                        imageUrl: request.requesterPhoto,\r\n+                        name: request.requesterName,\r\n+                        size: 36,\r\n+                      ),\r\n+                      const SizedBox(width: 12),\r\n+                      Expanded(\r\n+                        child: Column(\r\n+                          crossAxisAlignment: CrossAxisAlignment.start,\r\n+                          children: [\r\n+                            Text(\r\n+                              request.requesterName,\r\n+                              style: AppTextStyles.bodyMedium.copyWith(\r\n+                                fontWeight: FontWeight.w500,\r\n+                              ),\r\n+                            ),\r\n+                            Text(\r\n+                              'Posted ${_getTimeAgo(request.createdAt)}',\r\n+                              style: AppTextStyles.caption,\r\n+                            ),\r\n+                          ],\r\n+                        ),\r\n+                      ),\r\n+                      StatusBadge(status: request.status.name, showIcon: false),\r\n+                    ],\r\n+                  ),\r\n+                ],\r\n+              ),\r\n+            ),\r\n+          ],\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildTag({\r\n+    required IconData icon,\r\n+    required String text,\r\n+    Color? color,\r\n+  }) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.symmetric(horizontal: 8, vertical: 4),\r\n+      decoration: BoxDecoration(\r\n+        color: (color ?? AppColors.grey500).withOpacity(0.1),\r\n+        borderRadius: BorderRadius.circular(8),\r\n+      ),\r\n+      child: Row(\r\n+        mainAxisSize: MainAxisSize.min,\r\n+        children: [\r\n+          Icon(icon, size: 12, color: color ?? AppColors.grey600),\r\n+          const SizedBox(width: 4),\r\n+          Text(\r\n+            text,\r\n+            style: AppTextStyles.labelSmall.copyWith(\r\n+              color: color ?? AppColors.grey600,\r\n+            ),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  String _getTimeAgo(DateTime date) {\r\n+    final difference = DateTime.now().difference(date);\r\n+    if (difference.inDays > 0) {\r\n+      return '${difference.inDays}d ago';\r\n+    } else if (difference.inHours > 0) {\r\n+      return '${difference.inHours}h ago';\r\n+    } else {\r\n+      return '${difference.inMinutes}m ago';\r\n+    }\r\n+  }\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1766346761043,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,6 @@\n import 'package:flutter/material.dart';\r\n import 'package:cached_network_image/cached_network_image.dart';\r\n-import 'package:intl/intl.dart';\r\n \r\n import '../../../../core/theme/app_colors.dart';\r\n import '../../../../core/theme/app_text_styles.dart';\r\n import '../../../../core/widgets/user_avatar.dart';\r\n@@ -73,15 +72,15 @@\n                             horizontal: 8,\r\n                             vertical: 4,\r\n                           ),\r\n                           decoration: BoxDecoration(\r\n-                            color: AppColors.error.withOpacity(0.1),\r\n+                            color: AppColors.error.withAlpha(26),\r\n                             borderRadius: BorderRadius.circular(12),\r\n                           ),\r\n                           child: Row(\r\n                             mainAxisSize: MainAxisSize.min,\r\n                             children: [\r\n-                              Icon(\r\n+                              const Icon(\r\n                                 Icons.bolt,\r\n                                 size: 14,\r\n                                 color: AppColors.error,\r\n                               ),\r\n@@ -112,9 +111,9 @@\n \r\n                   // Route\r\n                   Row(\r\n                     children: [\r\n-                      Icon(Icons.location_on,\r\n+                      const Icon(Icons.location_on,\r\n                           size: 16, color: AppColors.primary),\r\n                       const SizedBox(width: 4),\r\n                       Expanded(\r\n                         child: Text(\r\n@@ -197,9 +196,9 @@\n   }) {\r\n     return Container(\r\n       padding: const EdgeInsets.symmetric(horizontal: 8, vertical: 4),\r\n       decoration: BoxDecoration(\r\n-        color: (color ?? AppColors.grey500).withOpacity(0.1),\r\n+        color: (color ?? AppColors.grey500).withAlpha(26),\r\n         borderRadius: BorderRadius.circular(8),\r\n       ),\r\n       child: Row(\r\n         mainAxisSize: MainAxisSize.min,\r\n@@ -226,5 +225,5 @@\n     } else {\r\n       return '${difference.inMinutes}m ago';\r\n     }\r\n   }\r\n-}\n\\ No newline at end of file\n+}\r\n"
                }
            ],
            "date": 1766327062910,
            "name": "Commit-0",
            "content": "\r\n"
        }
    ]
}