{
    "sourceFile": "frontend/lib/features/requests/presentation/widgets/item_images_carousel.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1766327062913,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1766333771432,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1 +1,210 @@\n+import 'package:flutter/material.dart';\r\n+import 'package:cached_network_image/cached_network_image.dart';\r\n \r\n+import '../../../../core/theme/app_colors.dart';\r\n+\r\n+class ItemImagesCarousel extends StatefulWidget {\r\n+  final List<String> imageUrls;\r\n+  final double height;\r\n+  final bool showIndicators;\r\n+\r\n+  const ItemImagesCarousel({\r\n+    super.key,\r\n+    required this.imageUrls,\r\n+    this.height = 300,\r\n+    this.showIndicators = true,\r\n+  });\r\n+\r\n+  @override\r\n+  State<ItemImagesCarousel> createState() => _ItemImagesCarouselState();\r\n+}\r\n+\r\n+class _ItemImagesCarouselState extends State<ItemImagesCarousel> {\r\n+  final PageController _pageController = PageController();\r\n+  int _currentPage = 0;\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _pageController.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    if (widget.imageUrls.isEmpty) {\r\n+      return Container(\r\n+        height: widget.height,\r\n+        color: AppColors.grey200,\r\n+        child: const Center(\r\n+          child: Icon(Icons.image, size: 60, color: AppColors.grey400),\r\n+        ),\r\n+      );\r\n+    }\r\n+\r\n+    return Stack(\r\n+      children: [\r\n+        // Images\r\n+        SizedBox(\r\n+          height: widget.height,\r\n+          child: PageView.builder(\r\n+            controller: _pageController,\r\n+            itemCount: widget.imageUrls.length,\r\n+            onPageChanged: (index) {\r\n+              setState(() {\r\n+                _currentPage = index;\r\n+              });\r\n+            },\r\n+            itemBuilder: (context, index) {\r\n+              return GestureDetector(\r\n+                onTap: () => _showFullScreenImage(context, index),\r\n+                child: CachedNetworkImage(\r\n+                  imageUrl: widget.imageUrls[index],\r\n+                  fit: BoxFit.cover,\r\n+                  placeholder: (context, url) => Container(\r\n+                    color: AppColors.grey200,\r\n+                    child: const Center(child: CircularProgressIndicator()),\r\n+                  ),\r\n+                  errorWidget: (context, url, error) => Container(\r\n+                    color: AppColors.grey200,\r\n+                    child: const Icon(Icons.error),\r\n+                  ),\r\n+                ),\r\n+              );\r\n+            },\r\n+          ),\r\n+        ),\r\n+\r\n+        // Indicators\r\n+        if (widget.showIndicators && widget.imageUrls.length > 1)\r\n+          Positioned(\r\n+            bottom: 16,\r\n+            left: 0,\r\n+            right: 0,\r\n+            child: Row(\r\n+              mainAxisAlignment: MainAxisAlignment.center,\r\n+              children: List.generate(\r\n+                widget.imageUrls.length,\r\n+                (index) => Container(\r\n+                  width: 8,\r\n+                  height: 8,\r\n+                  margin: const EdgeInsets.symmetric(horizontal: 4),\r\n+                  decoration: BoxDecoration(\r\n+                    shape: BoxShape.circle,\r\n+                    color: _currentPage == index\r\n+                        ? Colors.white\r\n+                        : Colors.white.withOpacity(0.5),\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+            ),\r\n+          ),\r\n+\r\n+        // Image counter\r\n+        if (widget.imageUrls.length > 1)\r\n+          Positioned(\r\n+            top: 16,\r\n+            right: 16,\r\n+            child: Container(\r\n+              padding: const EdgeInsets.symmetric(horizontal: 12, vertical: 6),\r\n+              decoration: BoxDecoration(\r\n+                color: Colors.black.withOpacity(0.6),\r\n+                borderRadius: BorderRadius.circular(20),\r\n+              ),\r\n+              child: Text(\r\n+                '${_currentPage + 1}/${widget.imageUrls.length}',\r\n+                style: const TextStyle(\r\n+                  color: Colors.white,\r\n+                  fontSize: 12,\r\n+                  fontWeight: FontWeight.w500,\r\n+                ),\r\n+              ),\r\n+            ),\r\n+          ),\r\n+      ],\r\n+    );\r\n+  }\r\n+\r\n+  void _showFullScreenImage(BuildContext context, int initialIndex) {\r\n+    Navigator.of(context).push(\r\n+      MaterialPageRoute(\r\n+        builder: (context) => _FullScreenImageViewer(\r\n+          imageUrls: widget.imageUrls,\r\n+          initialIndex: initialIndex,\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+class _FullScreenImageViewer extends StatefulWidget {\r\n+  final List<String> imageUrls;\r\n+  final int initialIndex;\r\n+\r\n+  const _FullScreenImageViewer({\r\n+    required this.imageUrls,\r\n+    required this.initialIndex,\r\n+  });\r\n+\r\n+  @override\r\n+  State<_FullScreenImageViewer> createState() => _FullScreenImageViewerState();\r\n+}\r\n+\r\n+class _FullScreenImageViewerState extends State<_FullScreenImageViewer> {\r\n+  late PageController _pageController;\r\n+  late int _currentIndex;\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    super.initState();\r\n+    _currentIndex = widget.initialIndex;\r\n+    _pageController = PageController(initialPage: widget.initialIndex);\r\n+  }\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _pageController.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Scaffold(\r\n+      backgroundColor: Colors.black,\r\n+      appBar: AppBar(\r\n+        backgroundColor: Colors.transparent,\r\n+        elevation: 0,\r\n+        iconTheme: const IconThemeData(color: Colors.white),\r\n+        title: Text(\r\n+          '${_currentIndex + 1} of ${widget.imageUrls.length}',\r\n+          style: const TextStyle(color: Colors.white),\r\n+        ),\r\n+      ),\r\n+      body: PageView.builder(\r\n+        controller: _pageController,\r\n+        itemCount: widget.imageUrls.length,\r\n+        onPageChanged: (index) {\r\n+          setState(() {\r\n+            _currentIndex = index;\r\n+          });\r\n+        },\r\n+        itemBuilder: (context, index) {\r\n+          return InteractiveViewer(\r\n+            child: Center(\r\n+              child: CachedNetworkImage(\r\n+                imageUrl: widget.imageUrls[index],\r\n+                fit: BoxFit.contain,\r\n+                placeholder: (context, url) => const Center(\r\n+                  child: CircularProgressIndicator(color: Colors.white),\r\n+                ),\r\n+                errorWidget: (context, url, error) => const Icon(\r\n+                  Icons.error,\r\n+                  color: Colors.white,\r\n+                ),\r\n+              ),\r\n+            ),\r\n+          );\r\n+        },\r\n+      ),\r\n+    );\r\n+  }\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1766346761059,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,210 @@\n+import 'package:flutter/material.dart';\r\n+import 'package:cached_network_image/cached_network_image.dart';\r\n+\r\n+import '../../../../core/theme/app_colors.dart';\r\n+\r\n+class ItemImagesCarousel extends StatefulWidget {\r\n+  final List<String> imageUrls;\r\n+  final double height;\r\n+  final bool showIndicators;\r\n+\r\n+  const ItemImagesCarousel({\r\n+    super.key,\r\n+    required this.imageUrls,\r\n+    this.height = 300,\r\n+    this.showIndicators = true,\r\n+  });\r\n+\r\n+  @override\r\n+  State<ItemImagesCarousel> createState() => _ItemImagesCarouselState();\r\n+}\r\n+\r\n+class _ItemImagesCarouselState extends State<ItemImagesCarousel> {\r\n+  final PageController _pageController = PageController();\r\n+  int _currentPage = 0;\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _pageController.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    if (widget.imageUrls.isEmpty) {\r\n+      return Container(\r\n+        height: widget.height,\r\n+        color: AppColors.grey200,\r\n+        child: const Center(\r\n+          child: Icon(Icons.image, size: 60, color: AppColors.grey400),\r\n+        ),\r\n+      );\r\n+    }\r\n+\r\n+    return Stack(\r\n+      children: [\r\n+        // Images\r\n+        SizedBox(\r\n+          height: widget.height,\r\n+          child: PageView.builder(\r\n+            controller: _pageController,\r\n+            itemCount: widget.imageUrls.length,\r\n+            onPageChanged: (index) {\r\n+              setState(() {\r\n+                _currentPage = index;\r\n+              });\r\n+            },\r\n+            itemBuilder: (context, index) {\r\n+              return GestureDetector(\r\n+                onTap: () => _showFullScreenImage(context, index),\r\n+                child: CachedNetworkImage(\r\n+                  imageUrl: widget.imageUrls[index],\r\n+                  fit: BoxFit.cover,\r\n+                  placeholder: (context, url) => Container(\r\n+                    color: AppColors.grey200,\r\n+                    child: const Center(child: CircularProgressIndicator()),\r\n+                  ),\r\n+                  errorWidget: (context, url, error) => Container(\r\n+                    color: AppColors.grey200,\r\n+                    child: const Icon(Icons.error),\r\n+                  ),\r\n+                ),\r\n+              );\r\n+            },\r\n+          ),\r\n+        ),\r\n+\r\n+        // Indicators\r\n+        if (widget.showIndicators && widget.imageUrls.length > 1)\r\n+          Positioned(\r\n+            bottom: 16,\r\n+            left: 0,\r\n+            right: 0,\r\n+            child: Row(\r\n+              mainAxisAlignment: MainAxisAlignment.center,\r\n+              children: List.generate(\r\n+                widget.imageUrls.length,\r\n+                (index) => Container(\r\n+                  width: 8,\r\n+                  height: 8,\r\n+                  margin: const EdgeInsets.symmetric(horizontal: 4),\r\n+                  decoration: BoxDecoration(\r\n+                    shape: BoxShape.circle,\r\n+                    color: _currentPage == index\r\n+                        ? Colors.white\r\n+                        : Colors.white.withAlpha(128),\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+            ),\r\n+          ),\r\n+\r\n+        // Image counter\r\n+        if (widget.imageUrls.length > 1)\r\n+          Positioned(\r\n+            top: 16,\r\n+            right: 16,\r\n+            child: Container(\r\n+              padding: const EdgeInsets.symmetric(horizontal: 12, vertical: 6),\r\n+              decoration: BoxDecoration(\r\n+                color: Colors.black.withAlpha(153),\r\n+                borderRadius: BorderRadius.circular(20),\r\n+              ),\r\n+              child: Text(\r\n+                '${_currentPage + 1}/${widget.imageUrls.length}',\r\n+                style: const TextStyle(\r\n+                  color: Colors.white,\r\n+                  fontSize: 12,\r\n+                  fontWeight: FontWeight.w500,\r\n+                ),\r\n+              ),\r\n+            ),\r\n+          ),\r\n+      ],\r\n+    );\r\n+  }\r\n+\r\n+  void _showFullScreenImage(BuildContext context, int initialIndex) {\r\n+    Navigator.of(context).push(\r\n+      MaterialPageRoute(\r\n+        builder: (context) => _FullScreenImageViewer(\r\n+          imageUrls: widget.imageUrls,\r\n+          initialIndex: initialIndex,\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+class _FullScreenImageViewer extends StatefulWidget {\r\n+  final List<String> imageUrls;\r\n+  final int initialIndex;\r\n+\r\n+  const _FullScreenImageViewer({\r\n+    required this.imageUrls,\r\n+    required this.initialIndex,\r\n+  });\r\n+\r\n+  @override\r\n+  State<_FullScreenImageViewer> createState() => _FullScreenImageViewerState();\r\n+}\r\n+\r\n+class _FullScreenImageViewerState extends State<_FullScreenImageViewer> {\r\n+  late PageController _pageController;\r\n+  late int _currentIndex;\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    super.initState();\r\n+    _currentIndex = widget.initialIndex;\r\n+    _pageController = PageController(initialPage: widget.initialIndex);\r\n+  }\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _pageController.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Scaffold(\r\n+      backgroundColor: Colors.black,\r\n+      appBar: AppBar(\r\n+        backgroundColor: Colors.transparent,\r\n+        elevation: 0,\r\n+        iconTheme: const IconThemeData(color: Colors.white),\r\n+        title: Text(\r\n+          '${_currentIndex + 1} of ${widget.imageUrls.length}',\r\n+          style: const TextStyle(color: Colors.white),\r\n+        ),\r\n+      ),\r\n+      body: PageView.builder(\r\n+        controller: _pageController,\r\n+        itemCount: widget.imageUrls.length,\r\n+        onPageChanged: (index) {\r\n+          setState(() {\r\n+            _currentIndex = index;\r\n+          });\r\n+        },\r\n+        itemBuilder: (context, index) {\r\n+          return InteractiveViewer(\r\n+            child: Center(\r\n+              child: CachedNetworkImage(\r\n+                imageUrl: widget.imageUrls[index],\r\n+                fit: BoxFit.contain,\r\n+                placeholder: (context, url) => const Center(\r\n+                  child: CircularProgressIndicator(color: Colors.white),\r\n+                ),\r\n+                errorWidget: (context, url, error) => const Icon(\r\n+                  Icons.error,\r\n+                  color: Colors.white,\r\n+                ),\r\n+              ),\r\n+            ),\r\n+          );\r\n+        },\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n"
                }
            ],
            "date": 1766327062913,
            "name": "Commit-0",
            "content": "\r\n"
        }
    ]
}