{
    "sourceFile": "frontend/lib/features/matches/presentation/screens/matches_screen.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1766327121723,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1766328941161,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1 +1,142 @@\n+import 'package:flutter/material.dart';\r\n+import 'package:flutter_bloc/flutter_bloc.dart';\r\n+import 'package:go_router/go_router.dart';\r\n \r\n+import '../../../../config/dependency_injection.dart';\r\n+import '../../../../core/constants/route_constants.dart';\r\n+import '../../../../core/theme/app_colors.dart';\r\n+import '../../../../core/theme/app_text_styles.dart';\r\n+import '../../../../core/widgets/loading_widget.dart';\r\n+import '../../../../core/widgets/empty_state_widget.dart';\r\n+import '../../../auth/bloc/auth_bloc.dart';\r\n+import '../../../auth/bloc/auth_state.dart';\r\n+import '../../bloc/match_bloc.dart';\r\n+import '../../bloc/match_event.dart';\r\n+import '../../bloc/match_state.dart';\r\n+import '../../data/models/match_model.dart';\r\n+import '../widgets/match_card.dart';\r\n+\r\n+class MatchesScreen extends StatelessWidget {\r\n+  const MatchesScreen({super.key});\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    final authState = context.read<AuthBloc>().state;\r\n+    if (authState is! AuthAuthenticated) {\r\n+      return const Scaffold(body: Center(child: Text('Please login')));\r\n+    }\r\n+\r\n+    return BlocProvider(\r\n+      create: (_) =>\r\n+          getIt<MatchBloc>()..add(MatchesLoadRequested(authState.user.uid)),\r\n+      child: const _MatchesView(),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+class _MatchesView extends StatefulWidget {\r\n+  const _MatchesView();\r\n+\r\n+  @override\r\n+  State<_MatchesView> createState() => _MatchesViewState();\r\n+}\r\n+\r\n+class _MatchesViewState extends State<_MatchesView>\r\n+    with SingleTickerProviderStateMixin {\r\n+  late TabController _tabController;\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    super.initState();\r\n+    _tabController = TabController(length: 3, vsync: this);\r\n+  }\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _tabController.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Scaffold(\r\n+      appBar: AppBar(\r\n+        title: const Text('My Matches'),\r\n+        bottom: TabBar(\r\n+          controller: _tabController,\r\n+          tabs: const [\r\n+            Tab(text: 'Active'),\r\n+            Tab(text: 'Pending'),\r\n+            Tab(text: 'Completed'),\r\n+          ],\r\n+        ),\r\n+      ),\r\n+      body: BlocBuilder<MatchBloc, MatchState>(\r\n+        builder: (context, state) {\r\n+          if (state is MatchLoading) {\r\n+            return const LoadingWidget();\r\n+          }\r\n+\r\n+          if (state is MatchError) {\r\n+            return Center(child: Text(state.message));\r\n+          }\r\n+\r\n+          if (state is MatchesLoaded) {\r\n+            final activeMatches = state.matches.where((m) =>\r\n+                m.status == MatchStatus.confirmed ||\r\n+                m.status == MatchStatus.pickedUp ||\r\n+                m.status == MatchStatus.inTransit ||\r\n+                m.status == MatchStatus.delivered).toList();\r\n+\r\n+            final pendingMatches = state.matches.where((m) =>\r\n+                m.status == MatchStatus.pending ||\r\n+                m.status == MatchStatus.accepted).toList();\r\n+\r\n+            final completedMatches = state.matches.where((m) =>\r\n+                m.status == MatchStatus.completed ||\r\n+                m.status == MatchStatus.cancelled ||\r\n+                m.status == MatchStatus.rejected).toList();\r\n+\r\n+            return TabBarView(\r\n+              controller: _tabController,\r\n+              children: [\r\n+                _buildMatchesList(activeMatches, 'No active matches'),\r\n+                _buildMatchesList(pendingMatches, 'No pending matches'),\r\n+                _buildMatchesList(completedMatches, 'No completed matches'),\r\n+              ],\r\n+            );\r\n+          }\r\n+\r\n+          return const SizedBox.shrink();\r\n+        },\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildMatchesList(List<MatchModel> matches, String emptyMessage) {\r\n+    if (matches.isEmpty) {\r\n+      return EmptyStateWidget(\r\n+        icon: Icons.handshake_outlined,\r\n+        title: emptyMessage,\r\n+        subtitle: 'Your matches will appear here',\r\n+      );\r\n+    }\r\n+\r\n+    return ListView.builder(\r\n+      padding: const EdgeInsets.all(16),\r\n+      itemCount: matches.length,\r\n+      itemBuilder: (context, index) {\r\n+        final match = matches[index];\r\n+        return Padding(\r\n+          padding: const EdgeInsets.only(bottom: 16),\r\n+          child: MatchCard(\r\n+            match: match,\r\n+            onTap: () => context.push(\r\n+              RouteConstants.matchDetails.replaceFirst(':id', match.id),\r\n+            ),\r\n+          ),\r\n+        );\r\n+      },\r\n+    );\r\n+  }\r\n+}\n\\ No newline at end of file\n"
                }
            ],
            "date": 1766327121723,
            "name": "Commit-0",
            "content": "\r\n"
        }
    ]
}