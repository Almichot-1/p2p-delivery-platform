{
    "sourceFile": "frontend/lib/features/matches/presentation/widgets/match_card.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1766327121755,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1766328988462,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1 +1,150 @@\n+import 'package:flutter/material.dart';\r\n+import 'package:flutter_bloc/flutter_bloc.dart';\r\n+import 'package:intl/intl.dart';\r\n \r\n+import '../../../../core/theme/app_colors.dart';\r\n+import '../../../../core/theme/app_text_styles.dart';\r\n+import '../../../../core/widgets/user_avatar.dart';\r\n+import '../../../../core/widgets/status_badge.dart';\r\n+import '../../../auth/bloc/auth_bloc.dart';\r\n+import '../../../auth/bloc/auth_state.dart';\r\n+import '../../data/models/match_model.dart';\r\n+\r\n+class MatchCard extends StatelessWidget {\r\n+  final MatchModel match;\r\n+  final VoidCallback? onTap;\r\n+\r\n+  const MatchCard({\r\n+    super.key,\r\n+    required this.match,\r\n+    this.onTap,\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    final authState = context.read<AuthBloc>().state;\r\n+    final currentUserId =\r\n+        authState is AuthAuthenticated ? authState.user.uid : '';\r\n+\r\n+    final otherName = match.getOtherParticipantName(currentUserId);\r\n+    final otherPhoto = match.getOtherParticipantPhoto(currentUserId);\r\n+    final isTraveler = currentUserId == match.travelerId;\r\n+\r\n+    return Card(\r\n+      child: InkWell(\r\n+        onTap: onTap,\r\n+        borderRadius: BorderRadius.circular(16),\r\n+        child: Padding(\r\n+          padding: const EdgeInsets.all(16),\r\n+          child: Column(\r\n+            crossAxisAlignment: CrossAxisAlignment.start,\r\n+            children: [\r\n+              // Header with status\r\n+              Row(\r\n+                children: [\r\n+                  UserAvatar(\r\n+                    imageUrl: otherPhoto,\r\n+                    name: otherName,\r\n+                    size: 48,\r\n+                  ),\r\n+                  const SizedBox(width: 12),\r\n+                  Expanded(\r\n+                    child: Column(\r\n+                      crossAxisAlignment: CrossAxisAlignment.start,\r\n+                      children: [\r\n+                        Text(otherName, style: AppTextStyles.h6),\r\n+                        Text(\r\n+                          isTraveler ? 'Requester' : 'Traveler',\r\n+                          style: AppTextStyles.caption,\r\n+                        ),\r\n+                      ],\r\n+                    ),\r\n+                  ),\r\n+                  StatusBadge(status: match.status.name),\r\n+                ],\r\n+              ),\r\n+              const Divider(height: 24),\r\n+\r\n+              // Item and route\r\n+              Text(\r\n+                match.itemTitle,\r\n+                style: AppTextStyles.bodyLarge.copyWith(\r\n+                  fontWeight: FontWeight.w600,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(height: 8),\r\n+              Row(\r\n+                children: [\r\n+                  Icon(Icons.flight, size: 16, color: AppColors.primary),\r\n+                  const SizedBox(width: 8),\r\n+                  Text(match.route, style: AppTextStyles.bodyMedium),\r\n+                ],\r\n+              ),\r\n+              const SizedBox(height: 8),\r\n+              Row(\r\n+                children: [\r\n+                  Icon(Icons.calendar_today,\r\n+                      size: 16, color: AppColors.grey600),\r\n+                  const SizedBox(width: 8),\r\n+                  Text(\r\n+                    DateFormat('MMM dd, yyyy').format(match.tripDate),\r\n+                    style: AppTextStyles.bodyMedium,\r\n+                  ),\r\n+                  const Spacer(),\r\n+                  if (match.agreedPrice > 0)\r\n+                    Container(\r\n+                      padding: const EdgeInsets.symmetric(\r\n+                        horizontal: 12,\r\n+                        vertical: 4,\r\n+                      ),\r\n+                      decoration: BoxDecoration(\r\n+                        color: AppColors.success.withOpacity(0.1),\r\n+                        borderRadius: BorderRadius.circular(12),\r\n+                      ),\r\n+                      child: Text(\r\n+                        '\\$${match.agreedPrice.toStringAsFixed(0)}',\r\n+                        style: AppTextStyles.labelMedium.copyWith(\r\n+                          color: AppColors.success,\r\n+                          fontWeight: FontWeight.w600,\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                ],\r\n+              ),\r\n+\r\n+              // Action buttons for pending matches\r\n+              if (match.status == MatchStatus.pending && isTraveler) ...[\r\n+                const SizedBox(height: 16),\r\n+                Row(\r\n+                  children: [\r\n+                    Expanded(\r\n+                      child: OutlinedButton(\r\n+                        onPressed: () {\r\n+                          // Reject\r\n+                        },\r\n+                        style: OutlinedButton.styleFrom(\r\n+                          foregroundColor: AppColors.error,\r\n+                          side: const BorderSide(color: AppColors.error),\r\n+                        ),\r\n+                        child: const Text('Decline'),\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(width: 12),\r\n+                    Expanded(\r\n+                      child: ElevatedButton(\r\n+                        onPressed: () {\r\n+                          // Accept\r\n+                        },\r\n+                        child: const Text('Accept'),\r\n+                      ),\r\n+                    ),\r\n+                  ],\r\n+                ),\r\n+              ],\r\n+            ],\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1766346747494,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,17 +74,17 @@\n               ),\r\n               const SizedBox(height: 8),\r\n               Row(\r\n                 children: [\r\n-                  Icon(Icons.flight, size: 16, color: AppColors.primary),\r\n+                  const Icon(Icons.flight, size: 16, color: AppColors.primary),\r\n                   const SizedBox(width: 8),\r\n                   Text(match.route, style: AppTextStyles.bodyMedium),\r\n                 ],\r\n               ),\r\n               const SizedBox(height: 8),\r\n               Row(\r\n                 children: [\r\n-                  Icon(Icons.calendar_today,\r\n+                  const Icon(Icons.calendar_today,\r\n                       size: 16, color: AppColors.grey600),\r\n                   const SizedBox(width: 8),\r\n                   Text(\r\n                     DateFormat('MMM dd, yyyy').format(match.tripDate),\r\n@@ -97,9 +97,9 @@\n                         horizontal: 12,\r\n                         vertical: 4,\r\n                       ),\r\n                       decoration: BoxDecoration(\r\n-                        color: AppColors.success.withOpacity(0.1),\r\n+                        color: AppColors.success.withAlpha(26),\r\n                         borderRadius: BorderRadius.circular(12),\r\n                       ),\r\n                       child: Text(\r\n                         '\\$${match.agreedPrice.toStringAsFixed(0)}',\r\n@@ -146,5 +146,5 @@\n         ),\r\n       ),\r\n     );\r\n   }\r\n-}\n\\ No newline at end of file\n+}\r\n"
                }
            ],
            "date": 1766327121755,
            "name": "Commit-0",
            "content": "\r\n"
        }
    ]
}