{
    "sourceFile": "frontend/lib/features/auth/presentation/widgets/phone_input_field.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1766333942919,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1766333942919,
            "name": "Commit-0",
            "content": "import 'package:flutter/material.dart';\r\nimport 'package:flutter/services.dart';\r\n\r\nimport '../../../../core/theme/app_colors.dart';\r\nimport '../../../../core/theme/app_text_styles.dart';\r\n\r\nclass PhoneInputField extends StatefulWidget {\r\n  final TextEditingController controller;\r\n  final String? Function(String?)? validator;\r\n  final void Function(String)? onChanged;\r\n  final bool enabled;\r\n\r\n  const PhoneInputField({\r\n    super.key,\r\n    required this.controller,\r\n    this.validator,\r\n    this.onChanged,\r\n    this.enabled = true,\r\n  });\r\n\r\n  @override\r\n  State<PhoneInputField> createState() => _PhoneInputFieldState();\r\n}\r\n\r\nclass _PhoneInputFieldState extends State<PhoneInputField> {\r\n  String _selectedCountryCode = '+1';\r\n\r\n  final List<Map<String, String>> _countryCodes = [\r\n    {'code': '+1', 'country': 'US', 'flag': 'ðŸ‡ºðŸ‡¸'},\r\n    {'code': '+251', 'country': 'ET', 'flag': 'ðŸ‡ªðŸ‡¹'},\r\n    {'code': '+44', 'country': 'UK', 'flag': 'ðŸ‡¬ðŸ‡§'},\r\n    {'code': '+971', 'country': 'AE', 'flag': 'ðŸ‡¦ðŸ‡ª'},\r\n    {'code': '+1', 'country': 'CA', 'flag': 'ðŸ‡¨ðŸ‡¦'},\r\n    {'code': '+49', 'country': 'DE', 'flag': 'ðŸ‡©ðŸ‡ª'},\r\n    {'code': '+966', 'country': 'SA', 'flag': 'ðŸ‡¸ðŸ‡¦'},\r\n    {'code': '+27', 'country': 'ZA', 'flag': 'ðŸ‡¿ðŸ‡¦'},\r\n  ];\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Column(\r\n      crossAxisAlignment: CrossAxisAlignment.start,\r\n      children: [\r\n        Text(\r\n          'Phone Number',\r\n          style: AppTextStyles.labelLarge.copyWith(\r\n            color: AppColors.textPrimaryLight,\r\n          ),\r\n        ),\r\n        const SizedBox(height: 8),\r\n        Container(\r\n          decoration: BoxDecoration(\r\n            color: AppColors.grey100,\r\n            borderRadius: BorderRadius.circular(12),\r\n          ),\r\n          child: Row(\r\n            children: [\r\n              // Country code dropdown\r\n              Container(\r\n                padding: const EdgeInsets.symmetric(horizontal: 12),\r\n                decoration: BoxDecoration(\r\n                  border: Border(\r\n                    right: BorderSide(color: AppColors.grey300),\r\n                  ),\r\n                ),\r\n                child: DropdownButtonHideUnderline(\r\n                  child: DropdownButton<String>(\r\n                    value: _selectedCountryCode,\r\n                    items: _countryCodes.map((country) {\r\n                      return DropdownMenuItem(\r\n                        value: country['code'],\r\n                        child: Row(\r\n                          mainAxisSize: MainAxisSize.min,\r\n                          children: [\r\n                            Text(\r\n                              country['flag']!,\r\n                              style: const TextStyle(fontSize: 20),\r\n                            ),\r\n                            const SizedBox(width: 8),\r\n                            Text(\r\n                              country['code']!,\r\n                              style: AppTextStyles.bodyMedium,\r\n                            ),\r\n                          ],\r\n                        ),\r\n                      );\r\n                    }).toList(),\r\n                    onChanged: widget.enabled\r\n                        ? (value) {\r\n                            setState(() {\r\n                              _selectedCountryCode = value!;\r\n                            });\r\n                          }\r\n                        : null,\r\n                  ),\r\n                ),\r\n              ),\r\n\r\n              // Phone number input\r\n              Expanded(\r\n                child: TextFormField(\r\n                  controller: widget.controller,\r\n                  enabled: widget.enabled,\r\n                  keyboardType: TextInputType.phone,\r\n                  inputFormatters: [\r\n                    FilteringTextInputFormatter.digitsOnly,\r\n                    LengthLimitingTextInputFormatter(15),\r\n                  ],\r\n                  decoration: InputDecoration(\r\n                    hintText: 'Enter phone number',\r\n                    hintStyle: AppTextStyles.bodyMedium.copyWith(\r\n                      color: AppColors.grey500,\r\n                    ),\r\n                    border: InputBorder.none,\r\n                    contentPadding: const EdgeInsets.symmetric(\r\n                      horizontal: 16,\r\n                      vertical: 16,\r\n                    ),\r\n                  ),\r\n                  validator: widget.validator,\r\n                  onChanged: (value) {\r\n                    widget.onChanged?.call('$_selectedCountryCode$value');\r\n                  },\r\n                ),\r\n              ),\r\n            ],\r\n          ),\r\n        ),\r\n      ],\r\n    );\r\n  }\r\n}"
        }
    ]
}